<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
    <title>Baby Name Picker</title>
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e0f7fa, #bbdefb);
            color: #1a202c;
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
            /* Modern Favorites Section */
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .container {
                padding: 0 2rem;
            }
        }

        /* Modern Card Styling */
        .name-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: white;
            border-radius: 24px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
            padding: 2.5rem;
            margin: 0 auto 3rem;
            overflow: hidden;
            max-width: 700px;
            width: 100%;
            border: 1px solid rgba(0, 0, 0, 0.03);
            position: relative;
            z-index: 1;
            transform: translateY(0);
            opacity: 1;
            animation: fadeInUp 0.6s ease-out forwards;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.98);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .name-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #4f46e5, #e11d8f);
            z-index: 2;
        }

        .name-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
        }

        @media (max-width: 640px) {
            .name-card {
                padding: 1.25rem;
                border-radius: 12px;
                margin-bottom: 1.5rem;
            }
        }

        .generate-btn {
            background: linear-gradient(to right, #4c51bf, #ed64a6);
            transition: transform 0.2s ease;
        }

        .generate-btn:hover {
            transform: scale(1.05);
        }

        .control-btn {
            background: #e2e8f0;
            color: #4a5568;
            transition: background 0.3s ease, transform 0.2s ease;
        }

        .control-btn:hover {
            background: #cbd5e0;
            transform: scale(1.05);
        }

        .control-btn.active {
            background: #68d391;
            color: white;
        }

        .reset-btn {
            background: #f56565;
            color: white;
            transition: transform 0.2s ease;
        }

        .reset-btn:hover {
            transform: scale(1.05);
        }

        .favorite-btn {
            background: none;
            border: none;
            font-size: 1.75rem;
            cursor: pointer;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #9ca3af;
        }
        
        .favorite-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(236, 72, 153, 0.1);
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.3s ease;
        }
        
        .favorite-btn:hover::before {
            transform: scale(1);
        }
        
        .favorite-btn:hover {
            color: #ec4899;
            transform: scale(1.15) rotate(8deg);
        }
        
        .favorite-btn.text-pink-500 {
            color: #ec4899;
            animation: heartBeat 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes heartBeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }

        .filter-input, .filter-select {
            transition: all 0.3s ease;
        }

        .filter-input:focus, .filter-select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.3);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #introPage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4c51bf, #ed64a6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 100;
            transition: opacity 0.5s ease;
        }

        #introPage.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .intro-btn {
            background: white;
            color: #4c51bf;
            padding: 16px 32px;
            border-radius: 50px;
            font-size: 1.25rem;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .intro-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .name-details {
            padding: 0.5rem 0;
        }
        
        .name-details h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
            margin: 2rem 0 1rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .name-details h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, #4f46e5, #a855f7);
            border-radius: 2px;
        }
        
        .name-details p {
            color: #4b5563;
            line-height: 1.7;
            margin-bottom: 1.25rem;
        }
        
        .name-details .font-semibold {
            color: #1f2937;
            font-weight: 600;
        }
        
        .astro-sign {
            background: rgba(249, 250, 251, 0.8);
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            color: #374151;
            transition: all 0.2s ease;
        }
        
        .astro-sign:hover {
            transform: translateX(4px);
            border-color: #d1d5db;
            background: white;
            margin-bottom: 10px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            background: linear-gradient(135deg, #a78bfa, #8b5cf6);
            color: white;
        }
        
        .name-header {
            margin-bottom: 2rem;
            position: relative;
            padding: 1.75rem 2rem;
            border-radius: 16px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(168, 85, 247, 0.05));
            border: 1px solid rgba(99, 102, 241, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
            overflow: hidden;
        }
        
        .name-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4f46e5, #a855f7);
        }
        
        .name-meaning {
            font-size: 1.1rem;
            color: #4b5563;
            margin: 1rem 0 0.5rem;
            line-height: 1.6;
            font-weight: 400;
        }
        
        .name-origin {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            background: rgba(99, 102, 241, 0.1);
            color: #4f46e5;
            font-size: 0.85rem;
            font-weight: 500;
            margin: 0.5rem 0 0;
            border: 1px solid rgba(99, 102, 241, 0.2);
            backdrop-filter: blur(4px);
        }
        
        .name-origin i {
            margin-right: 0.5rem;
            font-size: 1em;
        }
        
        .navigation-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2.5rem;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 0.85rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
            min-width: 140px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }
        
        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #7c3aed, #4f46e5);
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s ease;
            border-radius: 50px;
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);
        }
        
        .nav-btn:hover::before {
            opacity: 1;
        }
        
        .nav-btn:active {
            transform: translateY(0);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }
        
        .nav-btn i {
            margin-right: 0.5rem;
            font-size: 1.1em;
            transition: transform 0.3s ease;
        }
        
        .nav-btn:hover i {
            transform: translateX(3px);
        }
        
        .nav-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
            background: #e5e7eb;
            color: #9ca3af;
        }
        
        @media (max-width: 480px) {
            .nav-btn {
                padding: 0.65rem 1.25rem;
                font-size: 0.95rem;
                min-width: 110px;
                margin: 0.25rem;
            }
            
            .navigation-controls {
                gap: 0.75rem;
                margin: 1.5rem 0;
            }
            
            .generate-btn:hover {
                transform: scale(1.05);
            }
        }
        
        /* Modern Favorites Section Styling */
        .favorites-container {
            margin: 4rem auto 2rem;
            padding: 2.5rem 2rem;
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .favorites-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1.5rem;
            text-align: center;
            position: relative;
            padding-bottom: 0.75rem;
        }
        
        .favorites-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, #4f46e5, #e11d8f);
            border-radius: 2px;
        }
        
        .favorites-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
            margin-top: 1.5rem;
        }
        
        .favorite-tag {
            background: white;
            color: #4f46e5;
            padding: 0.6rem 1.25rem;
            border-radius: 50px;
            font-size: 0.95rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
        }
        
        .favorite-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: #d1d5db;
        }
        
        .remove-favorite {
            background: rgba(239, 68, 68, 0.1);
            border: none;
            color: #ef4444;
            cursor: pointer;
            font-weight: bold;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 0.5rem;
            padding: 0;
            font-size: 0.75rem;
            transition: all 0.2s ease;
        }
        
        .remove-favorite:hover {
            background: rgba(239, 68, 68, 0.2);
        }
        
        .no-favorites {
            text-align: center;
            color: #6b7280;
            font-style: italic;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: #f9fafb;
            border-radius: 8px;
            border: 1px dashed #e5e7eb;
            width: 100%;
        }
        
        @media (max-width: 768px) {
            .favorites-container {
                margin: 3rem auto 1.5rem;
                padding: 1.75rem 1.25rem;
                border-radius: 12px;
            }
            
            .favorites-title {
                font-size: 1.5rem;
                margin-bottom: 1.25rem;
            }
            
            .favorites-list {
                gap: 0.65rem;
                padding: 0 0.5rem;
            }
            
            .favorite-tag {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .favorites-container {
                padding: 1.5rem 1rem;
                margin: 2.5rem 0.75rem 1.5rem;
                width: auto;
            }
            
            .favorites-title {
                font-size: 1.35rem;
            }
            
            .favorites-list {
                gap: 0.6rem;
            }
            
            .favorite-tag {
                padding: 0.45rem 0.9rem;
                font-size: 0.85rem;
            }
        }
        
        /* Trait tag styling */
        .personality-traits {
            margin: 2.5rem 0 1rem;
            padding: 1.5rem;
            background: rgba(249, 250, 251, 0.8);
            border-radius: 12px;
            border: 1px solid rgba(229, 231, 235, 0.7);
        }
        
        .traits-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .traits-title::before {
            content: '✦';
            margin-right: 0.5rem;
            color: #7c3aed;
            font-size: 1.2em;
        }
        
        .traits-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
        }
        
        .trait-tag {
            background: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.87rem;
            color: #4f46e5;
            font-weight: 500;
            border: 1px solid #e9d5ff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }
        
        .trait-tag::before {
            content: '•';
            color: #a78bfa;
            font-size: 1.5em;
            line-height: 0;
            margin-right: 0.35rem;
        }
        
        .trait-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(167, 139, 250, 0.15);
            border-color: #c4b5fd;
            background: #f5f3ff;
        }
        
        /* Modern Header */
        header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 0 1rem;
        }
        
        h1 {
            font-size: 2.75rem;
            font-weight: 800;
            margin-bottom: 0.75rem;
            background: linear-gradient(90deg, #4f46e5, #e11d8f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            display: inline-block;
            line-height: 1.2;
            letter-spacing: -0.025em;
        }
        
        .tagline {
            color: #4b5563;
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            line-height: 1.6;
            font-weight: 400;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.25rem;
            }
            
            .tagline {
                font-size: 1.1rem;
                margin-bottom: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .tagline {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="flex flex-col">
    <!-- Intro Page -->
    <div id="introPage">
        <h1 class="text-5xl md:text-6xl font-bold mb-6 text-center">Baby Name Picker</h1>
        <p class="text-lg mb-8 text-center max-w-md">Discover unique and meaningful names for your little buddy!</p>
        <button id="enterButton" class="intro-btn">Tap to Enter</button>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="container mx-auto px-4 py-12 flex-grow flex flex-col items-center hidden">
        <h1 class="text-4xl md:text-5xl font-bold mb-6 text-center text-indigo-900">
            Baby Name Picker
        </h1>
        <p class="text-lg text-gray-600 mb-8 text-center max-w-md">
            Explore a vast collection of names for your little one!
        </p>

        <!-- Filters -->
        <div class="w-full max-w-lg mb-8 flex flex-col md:flex-row gap-4">
            <input id="searchInput" type="text" placeholder="Search names..." class="filter-input w-full md:w-1/2 p-3 rounded-lg border border-gray-300 focus:border-indigo-500">
            <select id="genderFilter" class="filter-select w-full md:w-1/2 p-3 rounded-lg border border-gray-300 focus:border-indigo-500">
                <option value="all">All Genders</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="neutral">Gender Neutral</option>
            </select>
        </div>

        <!-- Controls -->
        <div class="flex flex-col items-center gap-4 mb-8">
            <button id="generateButton" class="generate-btn text-white py-3 px-8 rounded-full text-lg font-semibold">
                Pick a Name
            </button>
            <div class="flex gap-3">
                <button id="playButton" class="control-btn py-2 px-4 rounded-full text-sm font-semibold">Play</button>
                <button id="pauseButton" class="control-btn py-2 px-4 rounded-full text-sm font-semibold active">Pause</button>
                <button id="resetButton" class="reset-btn py-2 px-4 rounded-full text-sm font-semibold">Reset Session</button>
            </div>
        </div>

        <!-- Names Container -->
        <div id="namesContainer" class="w-full max-w-2xl"></div>
        
        <!-- Navigation Controls -->
        <div class="navigation-controls flex justify-center space-x-4 mt-4 mb-6">
            <div id="prevButton" class="nav-btn bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-l cursor-pointer text-center" style="user-select: none;">Previous</div>
            <div id="nextButton" class="nav-btn bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-r cursor-pointer text-center" style="user-select: none;">Next</div>
        </div>

        <!-- Modern Favorites Section -->
        <div class="favorites-container">
            <h2 class="favorites-title">Your Favorites</h2>
            <div id="favoritesContainer" class="favorites-list">
                <div class="no-favorites">No favorites yet. Click the heart icon to add names!</div>
            </div>
        </div>
    </div>

    <script>
        // Comprehensive name database
        const nameDatabase = [
            // Male Names
            { name: 'Ethan', origin: 'Hebrew', meaning: 'Strong', gender: 'male' },
            { name: 'Liam', origin: 'Irish', meaning: 'Strong-willed warrior', gender: 'male' },
            { name: 'Noah', origin: 'Hebrew', meaning: 'Rest', gender: 'male' },
            { name: 'Oliver', origin: 'Latin', meaning: 'Olive tree', gender: 'male' },
            { name: 'Elijah', origin: 'Hebrew', meaning: 'My God is Yahweh', gender: 'male' },
            { name: 'James', origin: 'Hebrew', meaning: 'Supplanter', gender: 'male' },
            { name: 'William', origin: 'Germanic', meaning: 'Resolute protector', gender: 'male' },
            { name: 'Benjamin', origin: 'Hebrew', meaning: 'Son of the right hand', gender: 'male' },
            { name: 'Lucas', origin: 'Latin', meaning: 'Light', gender: 'male' },
            { name: 'Henry', origin: 'Germanic', meaning: 'Home ruler', gender: 'male' },
            { name: 'Ezra', origin: 'Hebrew', meaning: 'Helper', gender: 'male' },
            { name: 'Atlas', origin: 'Greek', meaning: 'To carry', gender: 'male' },
            { name: 'Orion', origin: 'Greek', meaning: 'Rising in the sky', gender: 'male' },
            { name: 'Finn', origin: 'Irish', meaning: 'Fair', gender: 'male' },
            { name: 'Theo', origin: 'Greek', meaning: 'Gift of God', gender: 'male' },
            { name: 'Jasper', origin: 'Persian', meaning: 'Bringer of treasure', gender: 'male' },
            { name: 'Silas', origin: 'Latin', meaning: 'Forest', gender: 'male' },
            { name: 'Arlo', origin: 'English', meaning: 'Fortified hill', gender: 'male' },
            { name: 'Cairo', origin: 'Arabic', meaning: 'Victorious', gender: 'male' },
            { name: 'Milo', origin: 'Germanic', meaning: 'Merciful', gender: 'male' },
            { name: 'Levi', origin: 'Hebrew', meaning: 'Joined', gender: 'male' },
            { name: 'Asher', origin: 'Hebrew', meaning: 'Happy', gender: 'male' },
            { name: 'Felix', origin: 'Latin', meaning: 'Lucky', gender: 'male' },
            { name: 'Jude', origin: 'Hebrew', meaning: 'Praise', gender: 'male' },
            { name: 'Hugo', origin: 'Germanic', meaning: 'Mind', gender: 'male' },
            { name: 'Declan', origin: 'Irish', meaning: 'Man of prayer', gender: 'male' },
            { name: 'Ronan', origin: 'Irish', meaning: 'Little seal', gender: 'male' },
            { name: 'Amir', origin: 'Arabic', meaning: 'Prince', gender: 'male' },
            { name: 'Soren', origin: 'Danish', meaning: 'Stern', gender: 'male' },
            { name: 'Kian', origin: 'Persian', meaning: 'King', gender: 'male' },
            { name: 'Zion', origin: 'Hebrew', meaning: 'Highest point', gender: 'male' },
            { name: 'Caspian', origin: 'Persian', meaning: 'From Caspia', gender: 'male' },
            { name: 'Bodhi', origin: 'Sanskrit', meaning: 'Awakening, enlightenment', gender: 'male' },
            { name: 'Mateo', origin: 'Spanish', meaning: 'Gift of God', gender: 'male' },
            { name: 'Remi', origin: 'French', meaning: 'Oarsman', gender: 'male' },
            { name: 'Nico', origin: 'Greek', meaning: 'Victory of the people', gender: 'male' },
            { name: 'Callum', origin: 'Scottish', meaning: 'Dove', gender: 'male' },
            { name: 'Zayn', origin: 'Arabic', meaning: 'Beauty, grace', gender: 'male' },
            { name: 'Atticus', origin: 'Latin', meaning: 'From Attica', gender: 'male' },
            { name: 'Cyrus', origin: 'Persian', meaning: 'Sun', gender: 'male' },
            { name: 'Otto', origin: 'Germanic', meaning: 'Wealthy', gender: 'male' },
            { name: 'Otis', origin: 'Germanic', meaning: 'Wealthy', gender: 'male' },
            { name: 'Idris', origin: 'Welsh', meaning: 'Ardent lord', gender: 'male' },
            { name: 'Elio', origin: 'Italian', meaning: 'Sun', gender: 'male' },
            { name: 'Enzo', origin: 'Italian', meaning: 'Ruler of the home', gender: 'male' },
            { name: 'Apollo', origin: 'Greek', meaning: 'Destroyer', gender: 'male' },
            { name: 'Axel', origin: 'Scandinavian', meaning: 'Father of peace', gender: 'male' },
            { name: 'Bruno', origin: 'Germanic', meaning: 'Brown, armor', gender: 'male' },
            { name: 'Dante', origin: 'Italian', meaning: 'Enduring', gender: 'male' },
            { name: 'Edison', origin: 'English', meaning: 'Son of Edward', gender: 'male' },
            { name: 'Gideon', origin: 'Hebrew', meaning: 'Feller, hewer', gender: 'male' },
            { name: 'Huxley', origin: 'English', meaning: 'From Hugh\'s meadow', gender: 'male' },
            { name: 'Jericho', origin: 'Hebrew', meaning: 'City of the moon', gender: 'male' },
            { name: 'Keanu', origin: 'Hawaiian', meaning: 'Cool breeze', gender: 'male' },
            { name: 'Lennox', origin: 'Scottish', meaning: 'With many elm trees', gender: 'male' },
            { name: 'Magnus', origin: 'Latin', meaning: 'Great', gender: 'male' },
            { name: 'Neo', origin: 'Greek', meaning: 'New', gender: 'male' },
            { name: 'Osiris', origin: 'Egyptian', meaning: 'With strong eyesight', gender: 'male' },
            { name: 'Perseus', origin: 'Greek', meaning: 'To destroy', gender: 'male' },
            { name: 'Quentin', origin: 'Latin', meaning: 'Fifth', gender: 'male' },
            { name: 'Thiago', origin: 'Portuguese', meaning: 'Supplanter', gender: 'male' },
            { name: 'Viggo', origin: 'Scandinavian', meaning: 'War', gender: 'male' },
            { name: 'Wolf', origin: 'Germanic', meaning: 'Wolf', gender: 'male' },
            { name: 'Xavier', origin: 'Arabic', meaning: 'Bright', gender: 'male' },
            { name: 'Zeke', origin: 'Hebrew', meaning: 'God strengthens', gender: 'male' },

            // Female Names
            { name: 'Emma', origin: 'Germanic', meaning: 'Universal', gender: 'female' },
            { name: 'Olivia', origin: 'Latin', meaning: 'Olive tree', gender: 'female' },
            { name: 'Ava', origin: 'Latin', meaning: 'Life', gender: 'female' },
            { name: 'Sophia', origin: 'Greek', meaning: 'Wisdom', gender: 'female' },
            { name: 'Isabella', origin: 'Hebrew', meaning: 'Pledged to God', gender: 'female' },
            { name: 'Charlotte', origin: 'French', meaning: 'Free man', gender: 'female' },
            { name: 'Mia', origin: 'Latin', meaning: 'Mine', gender: 'female' },
            { name: 'Amelia', origin: 'Germanic', meaning: 'Work', gender: 'female' },
            { name: 'Harper', origin: 'English', meaning: 'Harp player', gender: 'female' },
            { name: 'Evelyn', origin: 'English', meaning: 'Wished for child', gender: 'female' },
            { name: 'Aria', origin: 'Italian', meaning: 'Song or melody', gender: 'female' },
            { name: 'Zara', origin: 'Arabic', meaning: 'Blooming flower', gender: 'female' },
            { name: 'Nova', origin: 'Latin', meaning: 'New', gender: 'female' },
            { name: 'Luna', origin: 'Latin', meaning: 'Moon', gender: 'female' },
            { name: 'Seren', origin: 'Welsh', meaning: 'Star', gender: 'female' },
            { name: 'Lyra', origin: 'Greek', meaning: 'Lyre', gender: 'female' },
            { name: 'Mila', origin: 'Slavic', meaning: 'Gracious', gender: 'female' },
            { name: 'Ivy', origin: 'English', meaning: 'Climbing vine', gender: 'female' },
            { name: 'Willow', origin: 'English', meaning: 'Graceful', gender: 'female' },
            { name: 'Esme', origin: 'French', meaning: 'Loved', gender: 'female' },
            { name: 'Juni', origin: 'Latin', meaning: 'Youthful', gender: 'female' },
            { name: 'Amara', origin: 'African', meaning: 'Eternal', gender: 'female' },
            { name: 'Hazel', origin: 'English', meaning: 'Hazelnut tree', gender: 'female' },
            { name: 'Freya', origin: 'Norse', meaning: 'Noble lady', gender: 'female' },
            { name: 'Elsie', origin: 'Scottish', meaning: 'Pledged to God', gender: 'female' },
            { name: 'Cora', origin: 'Greek', meaning: 'Maiden', gender: 'female' },
            { name: 'Ada', origin: 'Germanic', meaning: 'Noble', gender: 'female' },
            { name: 'Lila', origin: 'Arabic', meaning: 'Night', gender: 'female' },
            { name: 'Sienna', origin: 'Italian', meaning: 'Orange-red', gender: 'female' },
            { name: 'Eliza', origin: 'Hebrew', meaning: 'Joyful', gender: 'female' },
            { name: 'Aurelia', origin: 'Latin', meaning: 'Golden', gender: 'female' },
            { name: 'Thea', origin: 'Greek', meaning: 'Goddess', gender: 'female' },
            { name: 'Iris', origin: 'Greek', meaning: 'Rainbow', gender: 'female' },
            { name: 'Athena', origin: 'Greek', meaning: 'Goddess of wisdom', gender: 'female' },
            { name: 'Seraphina', origin: 'Hebrew', meaning: 'Burning ones', gender: 'female' },
            { name: 'Cleo', origin: 'Greek', meaning: 'Glory', gender: 'female' },
            { name: 'Maeve', origin: 'Irish', meaning: 'Intoxicating', gender: 'female' },
            { name: 'Astrid', origin: 'Scandinavian', meaning: 'Divinely beautiful', gender: 'female' },
            { name: 'Elowen', origin: 'Cornish', meaning: 'Elm tree', gender: 'female' },
            { name: 'Cordelia', origin: 'Latin', meaning: 'Heart', gender: 'female' },
            { name: 'Dahlia', origin: 'Swedish', meaning: 'Flower', gender: 'female' },
            { name: 'Octavia', origin: 'Latin', meaning: 'Eighth', gender: 'female' },
            { name: 'Wren', origin: 'English', meaning: 'Small bird', gender: 'female' },
            { name: 'Juniper', origin: 'Latin', meaning: 'Young', gender: 'female' },
            { name: 'Marlowe', origin: 'English', meaning: 'Driftwood', gender: 'female' },
            { name: 'Artemis', origin: 'Greek', meaning: 'Goddess of the hunt', gender: 'female' },
            { name: 'Beatrix', origin: 'Latin', meaning: 'Voyager', gender: 'female' },
            { name: 'Calliope', origin: 'Greek', meaning: 'Beautiful voice', gender: 'female' },
            { name: 'Daphne', origin: 'Greek', meaning: 'Laurel tree', gender: 'female' },
            { name: 'Eulalie', origin: 'Greek', meaning: 'Sweetly speaking', gender: 'female' },
            { name: 'Fable', origin: 'English', meaning: 'Story', gender: 'female' },
            { name: 'Gaia', origin: 'Greek', meaning: 'Earth mother', gender: 'female' },
            { name: 'Harlow', origin: 'English', meaning: 'Army hill', gender: 'female' },
            { name: 'Isolde', origin: 'Welsh', meaning: 'Ice ruler', gender: 'female' },
            { name: 'Jessamine', origin: 'Persian', meaning: 'Jasmine flower', gender: 'female' },
            { name: 'Kaia', origin: 'Hawaiian', meaning: 'The sea', gender: 'female' },
            { name: 'Lavinia', origin: 'Latin', meaning: 'Woman of Rome', gender: 'female' },
            { name: 'Maren', origin: 'Latin', meaning: 'Of the sea', gender: 'female' },
            { name: 'Nimue', origin: 'Celtic', meaning: 'Lady of the lake', gender: 'female' },
            { name: 'Ophelia', origin: 'Greek', meaning: 'Help', gender: 'female' },
            { name: 'Persephone', origin: 'Greek', meaning: 'Bringer of destruction', gender: 'female' },
            { name: 'Rhiannon', origin: 'Welsh', meaning: 'Great queen', gender: 'female' },
            { name: 'Saoirse', origin: 'Irish', meaning: 'Freedom', gender: 'female' },
            { name: 'Tallulah', origin: 'Native American', meaning: 'Leaping water', gender: 'female' },
            { name: 'Vesper', origin: 'Latin', meaning: 'Evening star', gender: 'female' },

            // Gender Neutral Names
            { name: 'Alex', origin: 'Greek', meaning: 'Defender', gender: 'neutral' },
            { name: 'Taylor', origin: 'English', meaning: 'Tailor', gender: 'neutral' },
            { name: 'Jordan', origin: 'Hebrew', meaning: 'To flow down', gender: 'neutral' },
            { name: 'Riley', origin: 'Irish', meaning: 'Valiant', gender: 'neutral' },
            { name: 'Avery', origin: 'English', meaning: 'Ruler of elves', gender: 'neutral' },
            { name: 'Quinn', origin: 'Irish', meaning: 'Wise', gender: 'neutral' },
            { name: 'Kai', origin: 'Hawaiian', meaning: 'Sea', gender: 'neutral' },
            { name: 'Rowan', origin: 'Gaelic', meaning: 'Little red one', gender: 'neutral' },
            { name: 'Sage', origin: 'Latin', meaning: 'Wise', gender: 'neutral' },
            { name: 'Phoenix', origin: 'Greek', meaning: 'Dark red', gender: 'neutral' },
            { name: 'Raven', origin: 'English', meaning: 'Black bird', gender: 'neutral' },
            { name: 'Ember', origin: 'English', meaning: 'Burning coal', gender: 'neutral' },
            { name: 'Remy', origin: 'French', meaning: 'Oarsman', gender: 'neutral' },
            { name: 'Zephyr', origin: 'Greek', meaning: 'West wind', gender: 'neutral' },
            { name: 'River', origin: 'English', meaning: 'Flowing water', gender: 'neutral' },
            { name: 'Skyler', origin: 'Dutch', meaning: 'Scholar', gender: 'neutral' },
            { name: 'Aspen', origin: 'English', meaning: 'Poplar tree', gender: 'neutral' },
            { name: 'Ellis', origin: 'English', meaning: 'Kind', gender: 'neutral' },
            { name: 'Emerson', origin: 'English', meaning: 'Son of Emery', gender: 'neutral' },
            { name: 'Finley', origin: 'Scottish', meaning: 'Fair warrior', gender: 'neutral' },
            { name: 'Ari', origin: 'Hebrew', meaning: 'Lion', gender: 'neutral' },
            { name: 'Ash', origin: 'English', meaning: 'Ash tree', gender: 'neutral' },
            { name: 'Aubrey', origin: 'Germanic', meaning: 'Elf ruler', gender: 'neutral' },
            { name: 'Blair', origin: 'Scottish', meaning: 'Plain, field', gender: 'neutral' },
            { name: 'Casey', origin: 'Irish', meaning: 'Vigilant', gender: 'neutral' },
            { name: 'Dakota', origin: 'Native American', meaning: 'Friend, ally', gender: 'neutral' },
            { name: 'Eden', origin: 'Hebrew', meaning: 'Place of pleasure', gender: 'neutral' },
            { name: 'Indigo', origin: 'Greek', meaning: 'Blue dye', gender: 'neutral' },
            { name: 'Juno', origin: 'Latin', meaning: 'Queen of the heavens', gender: 'neutral' },
            { name: 'Linden', origin: 'English', meaning: 'Linden tree', gender: 'neutral' },
            { name: 'Marlowe', origin: 'English', meaning: 'Driftwood', gender: 'neutral' },
            { name: 'Morgan', origin: 'Welsh', meaning: 'Sea circle', gender: 'neutral' },
            { name: 'Noa', origin: 'Hebrew', meaning: 'Motion', gender: 'neutral' },
            { name: 'Onyx', origin: 'Greek', meaning: 'Black gemstone', gender: 'neutral' },
            { name: 'Parker', origin: 'English', meaning: 'Park keeper', gender: 'neutral' },
            { name: 'Reese', origin: 'Welsh', meaning: 'Enthusiasm', gender: 'neutral' },
            { name: 'Robin', origin: 'Germanic', meaning: 'Bright fame', gender: 'neutral' },
            { name: 'Salem', origin: 'Hebrew', meaning: 'Peace', gender: 'neutral' },
            { name: 'Shiloh', origin: 'Hebrew', meaning: 'Peaceful', gender: 'neutral' },
            { name: 'Winter', origin: 'English', meaning: 'Winter season', gender: 'neutral' },
            { name: 'Aero', origin: 'Greek', meaning: 'Air', gender: 'neutral' },
            { name: 'Bellamy', origin: 'French', meaning: 'Beautiful friend', gender: 'neutral' },
            { name: 'Corin', origin: 'Latin', meaning: 'Spear', gender: 'neutral' },
            { name: 'Dune', origin: 'English', meaning: 'Sand hill', gender: 'neutral' },
            { name: 'Echo', origin: 'Greek', meaning: 'Reflected sound', gender: 'neutral' },
            { name: 'Fern', origin: 'English', meaning: 'Fern plant', gender: 'neutral' },
            { name: 'Gray', origin: 'English', meaning: 'Gray-haired', gender: 'neutral' },
            { name: 'Harbor', origin: 'English', meaning: 'Shelter', gender: 'neutral' },
            { name: 'Irie', origin: 'Jamaican', meaning: 'Positive feelings', gender: 'neutral' },
            { name: 'Journey', origin: 'English', meaning: 'Travel', gender: 'neutral' },
            { name: 'Kestrel', origin: 'English', meaning: 'Bird of prey', gender: 'neutral' },
            { name: 'Lark', origin: 'English', meaning: 'Songbird', gender: 'neutral' },
            { name: 'Meridian', origin: 'Latin', meaning: 'Midday', gender: 'neutral' },
            { name: 'Nova', origin: 'Latin', meaning: 'New', gender: 'neutral' },
            { name: 'Ocean', origin: 'Greek', meaning: 'Sea', gender: 'neutral' },
            { name: 'Poet', origin: 'Greek', meaning: 'Creator', gender: 'neutral' },
            { name: 'Quill', origin: 'English', meaning: 'Feather pen', gender: 'neutral' },
            { name: 'Rain', origin: 'English', meaning: 'Abundant blessings from above', gender: 'neutral' },
            { name: 'Solstice', origin: 'Latin', meaning: 'Sun stands still', gender: 'neutral' },
            { name: 'Teal', origin: 'English', meaning: 'Blue-green color', gender: 'neutral' },
            { name: 'Zenith', origin: 'Arabic', meaning: 'Highest point', gender: 'neutral' }
        ];

        // DOM Elements
        const introPage = document.getElementById('introPage');
        const enterButton = document.getElementById('enterButton');
        const mainApp = document.getElementById('mainApp');
        const generateButton = document.getElementById('generateButton');
        const playButton = document.getElementById('playButton');
        const pauseButton = document.getElementById('pauseButton');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const resetButton = document.getElementById('resetButton');
        const namesContainer = document.getElementById('namesContainer');
        const favoritesContainer = document.getElementById('favoritesContainer');
        const searchInput = document.getElementById('searchInput');
        const genderFilter = document.getElementById('genderFilter');

        // State Management
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let sessionNames = JSON.parse(sessionStorage.getItem('sessionNames')) || [];
        let currentNameIndex = 0;
        let isPlaying = false;
        let cycleInterval = null;
        
        // Astrological Signs and Traits
        const astrologicalSigns = [
            { name: 'Aries', dates: 'March 21 - April 19', traits: ['Courageous', 'Determined', 'Confident', 'Enthusiastic', 'Passionate'] },
            { name: 'Taurus', dates: 'April 20 - May 20', traits: ['Reliable', 'Patient', 'Practical', 'Devoted', 'Responsible'] },
            { name: 'Gemini', dates: 'May 21 - June 20', traits: ['Adaptable', 'Outgoing', 'Curious', 'Quick-witted', 'Intellectual'] },
            { name: 'Cancer', dates: 'June 21 - July 22', traits: ['Tenacious', 'Emotional', 'Intuitive', 'Imaginative', 'Protective'] },
            { name: 'Leo', dates: 'July 23 - August 22', traits: ['Creative', 'Passionate', 'Generous', 'Warm-hearted', 'Cheerful'] },
            { name: 'Virgo', dates: 'August 23 - September 22', traits: ['Analytical', 'Practical', 'Diligent', 'Observant', 'Modest'] },
            { name: 'Libra', dates: 'September 23 - October 22', traits: ['Diplomatic', 'Fair-minded', 'Social', 'Cooperative', 'Gracious'] },
            { name: 'Scorpio', dates: 'October 23 - November 21', traits: ['Resourceful', 'Brave', 'Passionate', 'Determined', 'Mysterious'] },
            { name: 'Sagittarius', dates: 'November 22 - December 21', traits: ['Generous', 'Idealistic', 'Optimistic', 'Humorous', 'Enthusiastic'] },
            { name: 'Capricorn', dates: 'December 22 - January 19', traits: ['Responsible', 'Disciplined', 'Self-controlled', 'Independent', 'Ambitious'] },
            { name: 'Aquarius', dates: 'January 20 - February 18', traits: ['Progressive', 'Original', 'Independent', 'Humanitarian', 'Intellectual'] },
            { name: 'Pisces', dates: 'February 19 - March 20', traits: ['Compassionate', 'Artistic', 'Intuitive', 'Gentle', 'Wise'] }
        ];
        
        // Personality traits based on first letter
        const letterTraits = {
            'A': ['Ambitious', 'Adventurous', 'Assertive'],
            'B': ['Bold', 'Balanced', 'Bright'],
            'C': ['Creative', 'Caring', 'Charismatic'],
            'D': ['Determined', 'Dependable', 'Dynamic'],
            'E': ['Energetic', 'Empathetic', 'Eloquent'],
            'F': ['Friendly', 'Fearless', 'Flexible'],
            'G': ['Generous', 'Genuine', 'Gracious'],
            'H': ['Honest', 'Humble', 'Harmonious'],
            'I': ['Intelligent', 'Intuitive', 'Innovative'],
            'J': ['Joyful', 'Just', 'Judicious'],
            'K': ['Kind', 'Knowledgeable', 'Keen'],
            'L': ['Loyal', 'Loving', 'Lively'],
            'M': ['Motivated', 'Mindful', 'Magnetic'],
            'N': ['Noble', 'Nurturing', 'Natural'],
            'O': ['Optimistic', 'Open-minded', 'Observant'],
            'P': ['Passionate', 'Patient', 'Practical'],
            'Q': ['Quick-witted', 'Quiet', 'Quirky'],
            'R': ['Resilient', 'Reliable', 'Resourceful'],
            'S': ['Sincere', 'Sensitive', 'Sociable'],
            'T': ['Thoughtful', 'Trustworthy', 'Tenacious'],
            'U': ['Understanding', 'Unique', 'Upbeat'],
            'V': ['Vibrant', 'Versatile', 'Valiant'],
            'W': ['Wise', 'Warm', 'Witty'],
            'X': ['Xenial', 'Xtraordinary', 'Xpressive'],
            'Y': ['Youthful', 'Yielding', 'Yearning'],
            'Z': ['Zealous', 'Zestful', 'Zen']
        };
        
        // Name etymology and characteristics information
        const originCharacteristics = {
            'Hebrew': 'traditional, spiritual, and meaningful',
            'Greek': 'classical, philosophical, and enduring',
            'Latin': 'historical, elegant, and dignified',
            'Germanic': 'strong, bold, and steadfast',
            'English': 'familiar, timeless, and versatile',
            'Irish': 'lyrical, mystical, and nature-connected',
            'French': 'sophisticated, romantic, and refined',
            'Spanish': 'warm, passionate, and melodic',
            'Italian': 'artistic, expressive, and musical',
            'Scandinavian': 'distinctive, strong, and nature-inspired',
            'Arabic': 'rich, poetic, and meaningful',
            'Persian': 'ancient, noble, and elegant',
            'Welsh': 'melodic, natural, and mythical',
            'Scottish': 'proud, strong, and traditional',
            'Slavic': 'strong, distinctive, and cultural',
            'Norse': 'powerful, mythological, and bold',
            'Sanskrit': 'spiritual, ancient, and profound',
            'African': 'meaningful, rhythmic, and cultural',
            'Native American': 'natural, spiritual, and meaningful',
            'Danish': 'clean, simple, and strong',
            'Dutch': 'practical, straightforward, and traditional',
            'Cornish': 'unique, Celtic, and nature-connected',
            'Swedish': 'clean, natural, and balanced',
            'Celtic': 'mystical, natural, and ancient',
            'Jamaican': 'vibrant, rhythmic, and expressive',
            'Hawaiian': 'flowing, natural, and peaceful',
            'Egyptian': 'ancient, powerful, and mystical',
            'Portuguese': 'melodic, warm, and expressive'
        };
        
        // Helper functions for name information
        function getNameEtymology(name, origin) {
            const nameLength = name.length;
            const firstLetter = name.charAt(0).toUpperCase();
            const hasVowels = /[aeiou]/i.test(name);
            
            let etymology = `${name} is a ${origin} name`;
            
            if (nameLength <= 4) {
                etymology += " with a concise and impactful presence. Short names are often memorable and make strong impressions.";
            } else if (nameLength <= 6) {
                etymology += " with a balanced length. Medium-length names often combine distinctiveness with ease of use.";
            } else {
                etymology += " with a substantial presence. Longer names often carry a sense of elegance and formality.";
            }
            
            if (['A', 'E', 'I', 'O', 'U'].includes(firstLetter)) {
                etymology += " Starting with a vowel gives this name a flowing, open sound.";
            } else {
                etymology += " Starting with a consonant gives this name a defined, structured sound.";
            }
            
            return etymology;
        }
        
        function getOriginCharacteristics(origin) {
            return originCharacteristics[origin] || 'distinctive and cultural';
        }
        
        function getMeaningCharacteristics(meaning) {
            const lowerMeaning = meaning.toLowerCase();
            
            if (lowerMeaning.includes('strong') || lowerMeaning.includes('power') || lowerMeaning.includes('brave')) {
                return 'strength and courage';
            } else if (lowerMeaning.includes('love') || lowerMeaning.includes('heart') || lowerMeaning.includes('joy')) {
                return 'warmth and affection';
            } else if (lowerMeaning.includes('light') || lowerMeaning.includes('bright') || lowerMeaning.includes('shine')) {
                return 'illumination and clarity';
            } else if (lowerMeaning.includes('peace') || lowerMeaning.includes('calm') || lowerMeaning.includes('gentle')) {
                return 'tranquility and harmony';
            } else if (lowerMeaning.includes('wise') || lowerMeaning.includes('smart') || lowerMeaning.includes('intellect')) {
                return 'wisdom and intelligence';
            } else if (lowerMeaning.includes('beauty') || lowerMeaning.includes('fair') || lowerMeaning.includes('pretty')) {
                return 'beauty and grace';
            } else if (lowerMeaning.includes('noble') || lowerMeaning.includes('royal') || lowerMeaning.includes('king')) {
                return 'nobility and dignity';
            } else if (lowerMeaning.includes('nature') || lowerMeaning.includes('tree') || lowerMeaning.includes('flower')) {
                return 'connection to nature';
            } else if (lowerMeaning.includes('god') || lowerMeaning.includes('divine') || lowerMeaning.includes('spirit')) {
                return 'spiritual significance';
            } else {
                return 'unique character and individuality';
            }
        }
        
        function getNamePopularity(name) {
            // This is a simplified popularity algorithm based on name length and common letters
            const commonLetters = ['a', 'e', 'i', 'o', 'n', 'r', 's', 't'];
            const nameLetters = name.toLowerCase().split('');
            const commonLetterCount = nameLetters.filter(letter => commonLetters.includes(letter)).length;
            const uniqueness = name.length - (commonLetterCount / 2);
            
            if (uniqueness > 5) {
                return "This is a distinctive name that stands out in a crowd.";
            } else if (uniqueness > 3) {
                return "This name has a good balance of familiarity and uniqueness.";
            } else {
                return "This name has a timeless quality that remains consistently appreciated.";
            }
        }
        
        // Numerology calculations
        function calculateNameNumber(name) {
            const numerologyValues = {
                'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6, 'g': 7, 'h': 8, 'i': 9,
                'j': 1, 'k': 2, 'l': 3, 'm': 4, 'n': 5, 'o': 6, 'p': 7, 'q': 8, 'r': 9,
                's': 1, 't': 2, 'u': 3, 'v': 4, 'w': 5, 'x': 6, 'y': 7, 'z': 8
            };
            
            const nameSum = name.toLowerCase().split('').reduce((sum, char) => {
                return sum + (numerologyValues[char] || 0);
            }, 0);
            
            // Reduce to a single digit (except for master numbers 11, 22)
            let nameNumber = nameSum;
            while (nameNumber > 9 && nameNumber !== 11 && nameNumber !== 22) {
                nameNumber = String(nameNumber).split('').reduce((sum, digit) => sum + parseInt(digit), 0);
            }
            
            return nameNumber;
        }
        
        // Get numerology meaning
        function getNumerologyMeaning(number) {
            const meanings = {
                1: "Leadership, independence, and originality",
                2: "Cooperation, diplomacy, and sensitivity",
                3: "Creativity, self-expression, and optimism",
                4: "Stability, practicality, and determination",
                5: "Freedom, adaptability, and versatility",
                6: "Harmony, responsibility, and nurturing",
                7: "Analysis, wisdom, and spirituality",
                8: "Ambition, authority, and material success",
                9: "Compassion, generosity, and humanitarianism",
                11: "Intuition, inspiration, and spiritual insight",
                22: "Master builder, practical idealism, and large-scale achievements"
            };
            
            return meanings[number] || "Unique vibration and personal journey";
        }

        // Utility Functions
        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        // Get random astrological signs for a name
        function getRandomAstroSigns(name) {
            // Deterministically select 3 signs based on name to ensure consistency
            const nameSum = name.split('').reduce((sum, char) => sum + char.charCodeAt(0), 0);
            const indices = [];
            
            // Get 3 unique indices
            while (indices.length < 3) {
                const index = (nameSum + indices.length * 13) % astrologicalSigns.length;
                if (!indices.includes(index)) {
                    indices.push(index);
                }
            }
            
            return indices.map(index => astrologicalSigns[index]);
        }
        
        // Get personality traits based on name
        function getPersonalityTraits(name) {
            const firstLetter = name.charAt(0).toUpperCase();
            const letterBasedTraits = letterTraits[firstLetter] || ['Unique', 'Special', 'One-of-a-kind'];
            
            // Get additional traits based on name length
            const lengthTraits = [];
            if (name.length <= 3) {
                lengthTraits.push('Concise', 'Direct');
            } else if (name.length <= 6) {
                lengthTraits.push('Balanced', 'Harmonious');
            } else {
                lengthTraits.push('Expressive', 'Elaborate');
            }
            
            // Get traits based on vowel count
            const vowelCount = (name.match(/[aeiou]/gi) || []).length;
            const vowelTraits = [];
            if (vowelCount >= name.length / 2) {
                vowelTraits.push('Melodic', 'Flowing');
            } else {
                vowelTraits.push('Strong', 'Structured');
            }
            
            return [...letterBasedTraits, ...lengthTraits, ...vowelTraits];
        }
        
        // Render a single name card with detailed information
        function renderDetailedNameCard(nameObj) {
            if (!nameObj || !nameObj.name) return;
            
            // Get all the information for the name
            const astroSigns = getRandomAstroSigns(nameObj.name);
            const personalityTraits = getPersonalityTraits(nameObj.name);
            const nameNumber = calculateNameNumber(nameObj.name);
            const numerologyMeaning = getNumerologyMeaning(nameNumber);
            const nameEtymology = getNameEtymology(nameObj.name, nameObj.origin);
            
            namesContainer.innerHTML = '';
            const nameCard = document.createElement('div');
            nameCard.classList.add('name-card', 'fade-in');
            
            // Create header section
            const nameHeader = document.createElement('div');
            nameHeader.classList.add('name-header');
            nameHeader.innerHTML = `
                <div class="flex justify-between items-center">
                    <h2 class="text-3xl font-bold text-indigo-900">${nameObj.name}</h2>
                    <button class="favorite-btn ${favorites.some(fav => fav.name === nameObj.name) ? 'text-pink-500' : 'text-gray-400'}" data-name="${nameObj.name}">
                        ${favorites.some(fav => fav.name === nameObj.name) ? '♥' : '♡'}
                    </button>
                </div>
                <div class="name-origin">${nameObj.gender.charAt(0).toUpperCase() + nameObj.gender.slice(1)} • ${nameObj.origin}</div>
                <div class="name-meaning">${nameObj.meaning}</div>
            `;
            
            // Create details section
            const nameDetails = document.createElement('div');
            nameDetails.classList.add('name-details');
            
            // Name etymology and origin section
            let nameInfoHTML = `
                <h3 class="text-lg font-semibold mb-2">Name Details</h3>
                <p class="mb-3">${nameEtymology}</p>
                <div class="mb-3">
                    <span class="font-semibold">Origin:</span> ${nameObj.origin} names are known for their ${getOriginCharacteristics(nameObj.origin)} characteristics.
                </div>
                <div class="mb-3">
                    <span class="font-semibold">Meaning:</span> "${nameObj.meaning}" - This name carries a sense of ${getMeaningCharacteristics(nameObj.meaning)}.
                </div>
                <div class="mb-4">
                    <span class="font-semibold">Popularity:</span> ${getNamePopularity(nameObj.name)}
                </div>
            `;
            
            // Astrological compatibility
            let astroHTML = '<h3 class="text-lg font-semibold mb-2">Astrological Compatibility</h3><div class="mb-3">';
            astroSigns.forEach(sign => {
                astroHTML += `<div class="astro-sign">${sign.name} (${sign.dates})</div>`;
            });
            astroHTML += '</div>';
            
            // Numerology information
            let numerologyHTML = `
                <div class="mb-4">
                    <h3 class="text-lg font-semibold mb-2">Numerology</h3>
                    <div class="flex items-center gap-3 mb-2">
                        <span class="text-2xl font-bold text-indigo-600">${nameNumber}</span>
                        <span>${numerologyMeaning}</span>
                    </div>
                </div>
            `;
            
            // Personality traits
            let traitsHTML = `
                <div class="personality-traits mb-3">
                    <div class="traits-title font-semibold mb-2">Personality Traits</div>
                    <div class="traits-list flex flex-wrap gap-2">
            `;
            
            personalityTraits.forEach(trait => {
                traitsHTML += `<div class="trait-tag bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full">${trait}</div>`;
            });
            
            traitsHTML += '</div></div>';
            
            // Combine all sections
            nameDetails.innerHTML = nameInfoHTML + astroHTML + numerologyHTML + traitsHTML;
            
            // Add sections to card
            nameCard.appendChild(nameHeader);
            nameCard.appendChild(nameDetails);
            
            // Add card to container
            namesContainer.appendChild(nameCard);
            
            // Update navigation buttons
            updateNavigationButtons();
        }
        
        // Render a favorite name card (simplified version)
        function renderFavoriteCard(nameObj) {
            if (!nameObj || !nameObj.name) return;
            const nameCard = document.createElement('div');
            nameCard.classList.add('name-card', 'p-4', 'fade-in');
            nameCard.innerHTML = `
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-bold text-indigo-900">${nameObj.name}</h2>
                    <button class="favorite-btn text-xl text-pink-500" data-name="${nameObj.name}">♥</button>
                </div>
                <p class="text-sm text-gray-600 mt-1">
                    Origin: ${nameObj.origin} | Meaning: ${nameObj.meaning} | Gender: ${nameObj.gender.charAt(0).toUpperCase() + nameObj.gender.slice(1)}
                </p>
            `;
            return nameCard;
        }

        // Render all favorites
        function renderFavorites() {
            favoritesContainer.innerHTML = '';
            if (favorites.length === 0) {
                favoritesContainer.innerHTML = '<p class="text-center text-gray-500">No favorites yet.</p>';
                return;
            }
            
            favorites.forEach(nameObj => {
                const favoriteCard = renderFavoriteCard(nameObj);
                favoritesContainer.appendChild(favoriteCard);
            });
        }

        // Filter names based on search and gender
        function filterNames() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            const gender = genderFilter.value;
            return nameDatabase.filter(nameObj => {
                const matchesSearch = nameObj.name.toLowerCase().includes(searchTerm);
                const matchesGender = gender === 'all' || nameObj.gender === gender;
                return matchesSearch && matchesGender;
            });
        }
        
        // Update navigation buttons based on current index
        function updateNavigationButtons() {
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            
            if (prevButton) {
                prevButton.disabled = currentNameIndex === 0;
                prevButton.classList.toggle('opacity-50', currentNameIndex === 0);
                prevButton.classList.toggle('cursor-not-allowed', currentNameIndex === 0);
            }
            
            if (nextButton) {
                // Next button is always enabled as we can always generate more names
                nextButton.disabled = false;
                nextButton.classList.remove('opacity-50');
                nextButton.classList.remove('cursor-not-allowed');
            }
        }
        
        // Simple navigation functions
        function navigateToPrevious() {
            console.log('Previous clicked');
            if (currentNameIndex > 0) {
                currentNameIndex--;
            }
            renderDetailedNameCard(sessionNames[currentNameIndex]);
            return false; // Prevent default link behavior
        }
        
        function navigateToNext() {
            console.log('Next clicked');
            if (currentNameIndex < sessionNames.length - 1) {
                currentNameIndex++;
            } else {
                generateNewName();
                return false; // Prevent default link behavior
            }
            renderDetailedNameCard(sessionNames[currentNameIndex]);
            return false; // Prevent default link behavior
        }

        // Generate a new name
        function generateNewName() {
            const filteredNames = filterNames();
            if (filteredNames.length === 0) {
                namesContainer.innerHTML = '<p class="text-center text-gray-500">No names match your criteria. Try adjusting the filters.</p>';
                return;
            }
            
            const availableNames = filteredNames.filter(nameObj => !sessionNames.some(sn => sn.name === nameObj.name));
            if (availableNames.length === 0) {
                namesContainer.innerHTML = '<p class="text-center text-gray-500">No new names available. Try resetting the session or adjusting filters.</p>';
                return;
            }
            
            const nameObj = availableNames[Math.floor(Math.random() * availableNames.length)];
            sessionNames.push(nameObj);
            currentNameIndex = sessionNames.length - 1;
            
            renderDetailedNameCard(nameObj);
            sessionStorage.setItem('sessionNames', JSON.stringify(sessionNames));
        }

        // Start auto-cycling names
        function startCycling() {
            if (isPlaying) return;
            isPlaying = true;
            playButton.classList.add('active');
            pauseButton.classList.remove('active');
            cycleInterval = setInterval(() => {
                navigateToNext();
            }, 5000);
        }

        // Pause auto-cycling
        function pauseCycling() {
            if (!isPlaying) return;
            isPlaying = false;
            playButton.classList.remove('active');
            pauseButton.classList.add('active');
            clearInterval(cycleInterval);
            cycleInterval = null;
        }

        // Reset session
        function resetSession() {
            pauseCycling();
            sessionNames = [];
            currentNameIndex = 0;
            sessionStorage.setItem('sessionNames', JSON.stringify(sessionNames));
            generateNewName();
        }
        
        // Show name details when clicking on a name card
        function showNameDetails(nameObj) {
            // Find the index of the name in sessionNames or add it if not present
            const existingIndex = sessionNames.findIndex(n => n.name === nameObj.name);
            if (existingIndex >= 0) {
                currentNameIndex = existingIndex;
            } else {
                sessionNames.push(nameObj);
                currentNameIndex = sessionNames.length - 1;
                sessionStorage.setItem('sessionNames', JSON.stringify(sessionNames));
            }
            
            renderDetailedNameCard(nameObj);
        }

        // Event Listeners
        // Transition from intro to main app
        enterButton.addEventListener('click', () => {
            introPage.classList.add('hidden');
            mainApp.classList.remove('hidden');
            if (sessionNames.length > 0) {
                renderDetailedNameCard(sessionNames[currentNameIndex]);
            } else {
                generateNewName();
            }
            renderFavorites();
        });

        // Generate single random name
        generateButton.addEventListener('click', () => {
            pauseCycling();
            generateNewName();
        });

        // Play button
        playButton.addEventListener('click', startCycling);

        // Pause button
        pauseButton.addEventListener('click', pauseCycling);

        // Previous button
        prevButton.addEventListener('click', function() {
            pauseCycling();
            navigateToPrevious();
        });
        
        // Next button
        nextButton.addEventListener('click', function() {
            pauseCycling();
            navigateToNext();
        });

        // Reset button
        resetButton.addEventListener('click', resetSession);

        // Favorite button
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('favorite-btn')) {
                const name = e.target.dataset.name;
                const nameObj = nameDatabase.find(n => n.name === name);
                if (!nameObj) return;
                if (favorites.some(fav => fav.name === name)) {
                    favorites = favorites.filter(fav => fav.name !== name);
                    e.target.innerHTML = '♡';
                    e.target.classList.remove('text-pink-500');
                    e.target.classList.add('text-gray-400');
                } else {
                    favorites.push(nameObj);
                    e.target.innerHTML = '♥';
                    e.target.classList.remove('text-gray-400');
                    e.target.classList.add('text-pink-500');
                }
                localStorage.setItem('favorites', JSON.stringify(favorites));
                renderFavorites();
            }
        });
        
        // Click on favorite name to view details
        favoritesContainer.addEventListener('click', (e) => {
            // Check if we clicked on the card but not on the favorite button
            if (e.target.closest('.name-card') && !e.target.classList.contains('favorite-btn')) {
                const nameCard = e.target.closest('.name-card');
                const nameElement = nameCard.querySelector('h2');
                if (nameElement) {
                    const name = nameElement.textContent.trim();
                    const nameObj = nameDatabase.find(n => n.name === name);
                    if (nameObj) {
                        showNameDetails(nameObj);
                    }
                }
            }
        });

        // Filter inputs
        searchInput.addEventListener('input', () => {
            pauseCycling();
            // Clear session names when filter changes to show fresh results immediately
            sessionNames = [];
            currentNameIndex = 0;
            generateNewName();
        });

        genderFilter.addEventListener('change', () => {
            pauseCycling();
            // Clear session names when filter changes to show fresh results immediately
            sessionNames = [];
            currentNameIndex = 0;
            generateNewName();
        });

        // Initialize
        window.onload = function() {
            console.log('Window loaded, setting up event listeners');
            
            // Set up direct event listeners for navigation buttons
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            
            // Add click event listeners with touchstart for mobile
            prevButton.addEventListener('click', navigateToPrevious);
            prevButton.addEventListener('touchstart', function(e) {
                e.preventDefault();
                navigateToPrevious();
            });
            
            nextButton.addEventListener('click', navigateToNext);
            nextButton.addEventListener('touchstart', function(e) {
                e.preventDefault();
                navigateToNext();
            });
            
            // Initialize the app
            if (sessionNames.length > 0) {
                renderDetailedNameCard(sessionNames[currentNameIndex]);
            } else {
                generateNewName();
            }
            renderFavorites();
        };
        
        // Add event listeners for navigation buttons
        document.addEventListener('DOMContentLoaded', function() {
            // Get the buttons
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            
            // Add click event listeners
            if (prevButton) {
                prevButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    navigateToPrevious();
                });
            }
            
            if (nextButton) {
                nextButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    navigateToNext();
                });
            }
        });
    </script>
</body>
</html>
