<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Name Picker</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e0f7fa, #bbdefb);
            color: #1a202c;
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
        }

        .name-card {
            transition: all 0.3s ease;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }

        .name-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .generate-btn {
            background: linear-gradient(to right, #4c51bf, #ed64a6);
            transition: transform 0.2s ease;
        }

        .generate-btn:hover {
            transform: scale(1.05);
        }

        .control-btn {
            background: #e2e8f0;
            color: #4a5568;
            transition: background 0.3s ease, transform 0.2s ease;
        }

        .control-btn:hover {
            background: #cbd5e0;
            transform: scale(1.05);
        }

        .control-btn.active {
            background: #68d391;
            color: white;
        }

        .reset-btn {
            background: #f56565;
            color: white;
            transition: transform 0.2s ease;
        }

        .reset-btn:hover {
            transform: scale(1.05);
        }

        .favorite-btn {
            transition: color 0.3s ease;
        }

        .favorite-btn:hover {
            color: #ed64a6;
        }

        .filter-input, .filter-select {
            transition: all 0.3s ease;
        }

        .filter-input:focus, .filter-select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.3);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #introPage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4c51bf, #ed64a6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 100;
            transition: opacity 0.5s ease;
        }

        #introPage.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .intro-btn {
            background: white;
            color: #4c51bf;
            padding: 16px 32px;
            border-radius: 50px;
            font-size: 1.25rem;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .intro-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="flex flex-col">
    <!-- Intro Page -->
    <div id="introPage">
        <h1 class="text-5xl md:text-6xl font-bold mb-6 text-center">Baby Name Picker</h1>
        <p class="text-lg mb-8 text-center max-w-md">Discover unique and meaningful names for your little buddy!</p>
        <button id="enterButton" class="intro-btn">Tap to Enter</button>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="container mx-auto px-4 py-12 flex-grow flex flex-col items-center hidden">
        <h1 class="text-4xl md:text-5xl font-bold mb-6 text-center text-indigo-900">
            Baby Name Picker
        </h1>
        <p class="text-lg text-gray-600 mb-8 text-center max-w-md">
            Explore a vast collection of names for your little one!
        </p>

        <!-- Filters -->
        <div class="w-full max-w-lg mb-8 flex flex-col md:flex-row gap-4">
            <input id="searchInput" type="text" placeholder="Search names..." class="filter-input w-full md:w-1/2 p-3 rounded-lg border border-gray-300 focus:border-indigo-500">
            <select id="genderFilter" class="filter-select w-full md:w-1/2 p-3 rounded-lg border border-gray-300 focus:border-indigo-500">
                <option value="all">All Genders</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="neutral">Gender Neutral</option>
            </select>
        </div>

        <!-- Controls -->
        <div class="flex flex-col items-center gap-4 mb-8">
            <button id="generateButton" class="generate-btn text-white py-3 px-8 rounded-full text-lg font-semibold">
                Pick a Name
            </button>
            <div class="flex gap-3">
                <button id="playButton" class="control-btn py-2 px-4 rounded-full text-sm font-semibold">Play</button>
                <button id="pauseButton" class="control-btn py-2 px-4 rounded-full text-sm font-semibold active">Pause</button>
                <button id="nextButton" class="control-btn py-2 px-4 rounded-full text-sm font-semibold">Next</button>
                <button id="resetButton" class="reset-btn py-2 px-4 rounded-full text-sm font-semibold">Reset Session</button>
            </div>
        </div>

        <!-- Names Container -->
        <div id="namesContainer" class="w-full max-w-2xl space-y-4"></div>

        <!-- Favorites Section -->
        <div class="w-full max-w-2xl mt-12">
            <h2 class="text-2xl font-semibold text-indigo-900 mb-4">Your Favorites</h2>
            <div id="favoritesContainer" class="space-y-4"></div>
        </div>
    </div>

    <script>
        // Comprehensive name database
        const nameDatabase = [
            // Male Names
            { name: 'Ethan', origin: 'Hebrew', meaning: 'Strong', gender: 'male' },
            { name: 'Liam', origin: 'Irish', meaning: 'Strong-willed warrior', gender: 'male' },
            { name: 'Noah', origin: 'Hebrew', meaning: 'Rest', gender: 'male' },
            { name: 'Oliver', origin: 'Latin', meaning: 'Olive tree', gender: 'male' },
            { name: 'Elijah', origin: 'Hebrew', meaning: 'My God is Yahweh', gender: 'male' },
            { name: 'James', origin: 'Hebrew', meaning: 'Supplanter', gender: 'male' },
            { name: 'William', origin: 'Germanic', meaning: 'Resolute protector', gender: 'male' },
            { name: 'Benjamin', origin: 'Hebrew', meaning: 'Son of the right hand', gender: 'male' },
            { name: 'Lucas', origin: 'Latin', meaning: 'Light', gender: 'male' },
            { name: 'Henry', origin: 'Germanic', meaning: 'Home ruler', gender: 'male' },
            { name: 'Ezra', origin: 'Hebrew', meaning: 'Helper', gender: 'male' },
            { name: 'Atlas', origin: 'Greek', meaning: 'To carry', gender: 'male' },
            { name: 'Orion', origin: 'Greek', meaning: 'Rising in the sky', gender: 'male' },
            { name: 'Finn', origin: 'Irish', meaning: 'Fair', gender: 'male' },
            { name: 'Theo', origin: 'Greek', meaning: 'Gift of God', gender: 'male' },
            { name: 'Jasper', origin: 'Persian', meaning: 'Bringer of treasure', gender: 'male' },
            { name: 'Silas', origin: 'Latin', meaning: 'Forest', gender: 'male' },
            { name: 'Arlo', origin: 'English', meaning: 'Fortified hill', gender: 'male' },
            { name: 'Cairo', origin: 'Arabic', meaning: 'Victorious', gender: 'male' },
            { name: 'Milo', origin: 'Germanic', meaning: 'Merciful', gender: 'male' },
            { name: 'Levi', origin: 'Hebrew', meaning: 'Joined', gender: 'male' },
            { name: 'Asher', origin: 'Hebrew', meaning: 'Happy', gender: 'male' },
            { name: 'Felix', origin: 'Latin', meaning: 'Lucky', gender: 'male' },
            { name: 'Jude', origin: 'Hebrew', meaning: 'Praise', gender: 'male' },
            { name: 'Hugo', origin: 'Germanic', meaning: 'Mind', gender: 'male' },
            { name: 'Declan', origin: 'Irish', meaning: 'Man of prayer', gender: 'male' },
            { name: 'Ronan', origin: 'Irish', meaning: 'Little seal', gender: 'male' },
            { name: 'Amir', origin: 'Arabic', meaning: 'Prince', gender: 'male' },
            { name: 'Soren', origin: 'Danish', meaning: 'Stern', gender: 'male' },
            { name: 'Kian', origin: 'Persian', meaning: 'King', gender: 'male' },

            // Female Names
            { name: 'Emma', origin: 'Germanic', meaning: 'Universal', gender: 'female' },
            { name: 'Olivia', origin: 'Latin', meaning: 'Olive tree', gender: 'female' },
            { name: 'Ava', origin: 'Latin', meaning: 'Life', gender: 'female' },
            { name: 'Sophia', origin: 'Greek', meaning: 'Wisdom', gender: 'female' },
            { name: 'Isabella', origin: 'Hebrew', meaning: 'Pledged to God', gender: 'female' },
            { name: 'Charlotte', origin: 'French', meaning: 'Free man', gender: 'female' },
            { name: 'Mia', origin: 'Latin', meaning: 'Mine', gender: 'female' },
            { name: 'Amelia', origin: 'Germanic', meaning: 'Work', gender: 'female' },
            { name: 'Harper', origin: 'English', meaning: 'Harp player', gender: 'female' },
            { name: 'Evelyn', origin: 'English', meaning: 'Wished for child', gender: 'female' },
            { name: 'Aria', origin: 'Italian', meaning: 'Song or melody', gender: 'female' },
            { name: 'Zara', origin: 'Arabic', meaning: 'Blooming flower', gender: 'female' },
            { name: 'Nova', origin: 'Latin', meaning: 'New', gender: 'female' },
            { name: 'Luna', origin: 'Latin', meaning: 'Moon', gender: 'female' },
            { name: 'Seren', origin: 'Welsh', meaning: 'Star', gender: 'female' },
            { name: 'Lyra', origin: 'Greek', meaning: 'Lyre', gender: 'female' },
            { name: 'Mila', origin: 'Slavic', meaning: 'Gracious', gender: 'female' },
            { name: 'Ivy', origin: 'English', meaning: 'Climbing vine', gender: 'female' },
            { name: 'Willow', origin: 'English', meaning: 'Graceful', gender: 'female' },
            { name: 'Esme', origin: 'French', meaning: 'Loved', gender: 'female' },
            { name: 'Juni', origin: 'Latin', meaning: 'Youthful', gender: 'female' },
            { name: 'Amara', origin: 'African', meaning: 'Eternal', gender: 'female' },
            { name: 'Hazel', origin: 'English', meaning: 'Hazelnut tree', gender: 'female' },
            { name: 'Freya', origin: 'Norse', meaning: 'Noble lady', gender: 'female' },
            { name: 'Elsie', origin: 'Scottish', meaning: 'Pledged to God', gender: 'female' },
            { name: 'Cora', origin: 'Greek', meaning: 'Maiden', gender: 'female' },
            { name: 'Ada', origin: 'Germanic', meaning: 'Noble', gender: 'female' },
            { name: 'Lila', origin: 'Arabic', meaning: 'Night', gender: 'female' },
            { name: 'Sienna', origin: 'Italian', meaning: 'Orange-red', gender: 'female' },
            { name: 'Eliza', origin: 'Hebrew', meaning: 'Joyful', gender: 'female' },

            // Gender Neutral Names
            { name: 'Alex', origin: 'Greek', meaning: 'Defender', gender: 'neutral' },
            { name: 'Taylor', origin: 'English', meaning: 'Tailor', gender: 'neutral' },
            { name: 'Jordan', origin: 'Hebrew', meaning: 'To flow down', gender: 'neutral' },
            { name: 'Riley', origin: 'Irish', meaning: 'Valiant', gender: 'neutral' },
            { name: 'Avery', origin: 'English', meaning: 'Ruler of elves', gender: 'neutral' },
            { name: 'Quinn', origin: 'Irish', meaning: 'Wise', gender: 'neutral' },
            { name: 'Kai', origin: 'Hawaiian', meaning: 'Sea', gender: 'neutral' },
            { name: 'Rowan', origin: 'Gaelic', meaning: 'Little red one', gender: 'neutral' },
            { name: 'Sage', origin: 'Latin', meaning: 'Wise', gender: 'neutral' },
            { name: 'Phoenix', origin: 'Greek', meaning: 'Dark red', gender: 'neutral' },
            { name: 'Raven', origin: 'English', meaning: 'Black bird', gender: 'neutral' },
            { name: 'Ember', origin: 'English', meaning: 'Burning coal', gender: 'neutral' },
            { name: 'Remy', origin: 'French', meaning: 'Oarsman', gender: 'neutral' },
            { name: 'Zephyr', origin: 'Greek', meaning: 'West wind', gender: 'neutral' },
            { name: 'River', origin: 'English', meaning: 'Flowing water', gender: 'neutral' },
            { name: 'Skyler', origin: 'Dutch', meaning: 'Scholar', gender: 'neutral' },
            { name: 'Aspen', origin: 'English', meaning: 'Poplar tree', gender: 'neutral' },
            { name: 'Ellis', origin: 'English', meaning: 'Kind', gender: 'neutral' },
            { name: 'Emerson', origin: 'English', meaning: 'Son of Emery', gender: 'neutral' },
            { name: 'Finley', origin: 'Scottish', meaning: 'Fair warrior', gender: 'neutral' }
        ];

        // DOM Elements
        const introPage = document.getElementById('introPage');
        const enterButton = document.getElementById('enterButton');
        const mainApp = document.getElementById('mainApp');
        const generateButton = document.getElementById('generateButton');
        const playButton = document.getElementById('playButton');
        const pauseButton = document.getElementById('pauseButton');
        const nextButton = document.getElementById('nextButton');
        const resetButton = document.getElementById('resetButton');
        const namesContainer = document.getElementById('namesContainer');
        const favoritesContainer = document.getElementById('favoritesContainer');
        const searchInput = document.getElementById('searchInput');
        const genderFilter = document.getElementById('genderFilter');

        // State Management
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let sessionNames = JSON.parse(sessionStorage.getItem('sessionNames')) || [];
        let isPlaying = false;
        let cycleInterval = null;

        // Utility Functions
        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        // Render a single name card
        function renderNameCard(nameObj, container, isFavorite = false) {
            if (!nameObj || !nameObj.name) return;
            const nameCard = document.createElement('div');
            nameCard.classList.add('name-card', 'p-6', 'fade-in');
            nameCard.innerHTML = `
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-bold text-indigo-900">${nameObj.name}</h2>
                    <button class="favorite-btn text-2xl ${favorites.some(fav => fav.name === nameObj.name) ? 'text-pink-500' : 'text-gray-400'}" data-name="${nameObj.name}">
                        ${favorites.some(fav => fav.name === nameObj.name) ? '♥' : '♡'}
                    </button>
                </div>
                <p class="text-sm text-gray-600 mt-2">
                    Origin: ${nameObj.origin} | Meaning: ${nameObj.meaning} | Gender: ${nameObj.gender.charAt(0).toUpperCase() + nameObj.gender.slice(1)}
                </p>
            `;
            container.insertBefore(nameCard, container.firstChild);
            if (container.children.length > 5 && !isFavorite) {
                container.removeChild(container.lastChild);
            }
        }

        // Render all favorites
        function renderFavorites() {
            favoritesContainer.innerHTML = '';
            if (favorites.length === 0) {
                favoritesContainer.innerHTML = '<p class="text-center text-gray-500">No favorites yet.</p>';
                return;
            }
            favorites.forEach(nameObj => renderNameCard(nameObj, favoritesContainer, true));
        }

        // Filter names based on search and gender
        function filterNames() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            const gender = genderFilter.value;
            return nameDatabase.filter(nameObj => {
                const matchesSearch = nameObj.name.toLowerCase().includes(searchTerm);
                const matchesGender = gender === 'all' || nameObj.gender === gender;
                return matchesSearch && matchesGender;
            });
        }

        // Generate a batch of fresh names
        function generateFreshBatch() {
            namesContainer.innerHTML = '';
            const filteredNames = filterNames();
            if (filteredNames.length === 0) {
                namesContainer.innerHTML = '<p class="text-center text-gray-500">No names match your criteria. Try adjusting the filters.</p>';
                return;
            }
            const availableNames = filteredNames.filter(nameObj => !sessionNames.some(sn => sn.name === nameObj.name));
            if (availableNames.length === 0) {
                namesContainer.innerHTML = '<p class="text-center text-gray-500">No new names available. Try resetting the session or adjusting filters.</p>';
                return;
            }
            const numNames = Math.min(5, availableNames.length);
            const shuffledNames = shuffleArray([...availableNames]).slice(0, numNames);
            shuffledNames.forEach(nameObj => {
                sessionNames.push(nameObj);
                renderNameCard(nameObj, namesContainer);
            });
            sessionStorage.setItem('sessionNames', JSON.stringify(sessionNames));
        }

        // Start auto-cycling names
        function startCycling() {
            if (isPlaying) return;
            isPlaying = true;
            playButton.classList.add('active');
            pauseButton.classList.remove('active');
            cycleInterval = setInterval(() => {
                generateFreshBatch();
            }, 5000);
        }

        // Pause auto-cycling
        function pauseCycling() {
            if (!isPlaying) return;
            isPlaying = false;
            playButton.classList.remove('active');
            pauseButton.classList.add('active');
            clearInterval(cycleInterval);
            cycleInterval = null;
        }

        // Reset session
        function resetSession() {
            pauseCycling();
            sessionNames = [];
            sessionStorage.setItem('sessionNames', JSON.stringify(sessionNames));
            generateFreshBatch();
        }

        // Event Listeners
        // Transition from intro to main app
        enterButton.addEventListener('click', () => {
            introPage.classList.add('hidden');
            mainApp.classList.remove('hidden');
            generateFreshBatch();
            renderFavorites();
        });

        // Generate single random name
        generateButton.addEventListener('click', () => {
            pauseCycling();
            const filteredNames = filterNames();
            if (filteredNames.length === 0) {
                namesContainer.innerHTML = '<p class="text-center text-gray-500">No names match your criteria.</p>';
                return;
            }
            const availableNames = filteredNames.filter(nameObj => !sessionNames.some(sn => sn.name === nameObj.name));
            if (availableNames.length === 0) {
                namesContainer.innerHTML = '<p class="text-center text-gray-500">No new names available. Try resetting the session.</p>';
                return;
            }
            const nameObj = availableNames[Math.floor(Math.random() * availableNames.length)];
            sessionNames.push(nameObj);
            sessionStorage.setItem('sessionNames', JSON.stringify(sessionNames));
            renderNameCard(nameObj, namesContainer);
        });

        // Play button
        playButton.addEventListener('click', startCycling);

        // Pause button
        pauseButton.addEventListener('click', pauseCycling);

        // Next button
        nextButton.addEventListener('click', () => {
            pauseCycling();
            generateFreshBatch();
        });

        // Reset button
        resetButton.addEventListener('click', resetSession);

        // Favorite button
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('favorite-btn')) {
                const name = e.target.dataset.name;
                const nameObj = nameDatabase.find(n => n.name === name);
                if (!nameObj) return;
                if (favorites.some(fav => fav.name === name)) {
                    favorites = favorites.filter(fav => fav.name !== name);
                    e.target.innerHTML = '♡';
                    e.target.classList.remove('text-pink-500');
                    e.target.classList.add('text-gray-400');
                } else {
                    favorites.push(nameObj);
                    e.target.innerHTML = '♥';
                    e.target.classList.remove('text-gray-400');
                    e.target.classList.add('text-pink-500');
                }
                localStorage.setItem('favorites', JSON.stringify(favorites));
                renderFavorites();
            }
        });

        // Filter inputs
        searchInput.addEventListener('input', () => {
            pauseCycling();
            generateFreshBatch();
        });

        genderFilter.addEventListener('change', () => {
            pauseCycling();
            generateFreshBatch();
        });

        // Initialize
        renderFavorites();
    </script>
</body>
</html>
